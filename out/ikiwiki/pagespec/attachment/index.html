<!DOCTYPE html>
<html xmlns="https://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>attachment</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="stylesheet" href="../../../style.css" type="text/css" />

<link rel="stylesheet" href="../../../local.css" type="text/css" />




<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/ikiwiki.cgi?do=edit&amp;page=ikiwiki%2Fpagespec%2Fattachment" />



<meta name="robots" content="noindex, follow" />



</head>
<body>

<div class="page">

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">

<a href="../../../">Team Geekout (Jamie&Kai) geeked out on the Mongol Rally 2011</a>/ 

<a href="../../">ikiwiki</a>/ 

<a href="../">pagespec</a>/ 

</span>
<span class="title">
attachment

</span>
</span>



</div>


<div class="actions">
<ul>

<li><a href="/ikiwiki.cgi?do=edit&amp;page=ikiwiki%2Fpagespec%2Fattachment" rel="nofollow">Edit</a></li>


<li><a href="../../../recentchanges/">RecentChanges</a></li>




<li><a rel="nofollow" href="/ikiwiki.cgi?do=prefs">Preferences</a></li>





</ul>
</div>









</div>



<div class="sidebar">
<p><a href="https://www.theadventurists.com/the-adventures/mongol-rally"><img src="/imgs/mongol-rally-logo-small.png" alt="Mongol Rally 2011"></a></p>

<h3><a href="../../../about/">About Jamie &amp; Kai, team Geekout</a></h3>

<h3>Time Taken</h3>

<p>Weeks: 6<br>
Days: 4<br>
Hours: 18<br>
Minutes: 57<br></p>

<h3>Distance Travelled</h3>

<p>12,566 miles / 20,223 km</p>

<iframe src="https://www.facebook.com/plugins/like.php?href=https://geekout.org.uk/" scrolling="no" frameborder="0" style="border:none; width: 18em; height:80px"></iframe>

<ul>
<li><a href="../../../tags/">Tag cloud</a></li>
</ul>

<h3>Planning stages</h3>

<ul>
<li><a href="../../../kit/">kit</a> we took with us</li>
<li><a href="../../../route/">Predicted Route and Itinerary</a> via Iran &amp; the stans</li>
</ul>

</div>



<div id="pagebody">

<div id="content" role="main">
<p>This wiki has attachments <strong>disabled</strong>.</p>

<p>If attachments are enabled, the wiki admin can control what types of
attachments will be accepted, via the <code>allowed_attachments</code>
configuration setting.</p>

<p>For example, to limit most users to uploading small images, and nothing else,
while allowing larger mp3 files to be uploaded by joey into a specific
directory, and check all attachments for viruses, something like this could be
used:</p>

<pre><code>virusfree() and ((user(joey) and podcast/*.mp3 and mimetype(audio/mpeg) and maxsize(15mb)) or ((mimetype(image/jpeg) or mimetype(image/png)) and maxsize(50kb)))
</code></pre>

<p>The regular <a href="../">PageSpec</a> syntax is expanded with the following
additional tests:</p>

<ul>
<li><p>"<code>maxsize(size)</code>" - tests whether the attachment is no larger than the
specified size. The size defaults to being in bytes, but "kb", "mb", "gb"
etc can be used to specify the units.</p></li>
<li><p>"<code>minsize(size)</code>" - tests whether the attachment is no smaller than the
specified size.</p></li>
<li><p>"<code>ispage()</code>" - tests whether the attachment will be treated by ikiwiki as a
wiki page. (Ie, if it has an extension of ".mdwn", or of any other enabled
page format).</p>

<p>So, if you don't want to allow wiki pages to be uploaded as attachments,
use <code>!ispage()</code> ; if you only want to allow wiki pages to be uploaded
as attachments, use <code>ispage()</code>.</p></li>
<li><p>"<code>mimetype(foo/bar)</code>" - checks the MIME type of the attachment. You can
include a glob in the type, for example <code>mimetype(image/*)</code>.</p></li>
<li><p>"<code>virusfree()</code>" - checks the attachment with an antiviral program.</p></li>
</ul>

</div>







</div>

<div id="footer" class="pagefooter" role="contentinfo">

<div id="pageinfo">












<div class="pagedate">
Last edited <span class="date">Sat 31 Aug 2019 07:48:23 BST</span>
<!-- Created <span class="date">Sat 31 Aug 2019 07:48:23 BST</span> -->
</div>

</div>


<!-- from Team Geekout (Jamie&Kai) geeked out on the Mongol Rally 2011 -->
</div>

</div>

</body>
</html>
